
# Memorix ‚Äî Web3 Memory Game (Local Dev)

**Memorix** is a **Simon-style Web3 memory game** that supports infinite levels, a daily challenge, telemetry for anti-cheat research, and **on-chain reward recording**.

This guide explains how to **set up the full local development environment** ‚Äî including the **Hardhat local blockchain**, **backend server**, and **frontend web UI**.

---

## üöÄ Quick Start

**‚ö†Ô∏è Important: All commands must be run from the MEMORIX project directory:**

```bash
# Navigate to this project directory
cd /path/to/MEMORIX--Web3-Memory-Challenge

# 1. Install dependencies
npm install

# 2. Terminal 1 - Start local blockchain
npx hardhat --config ./hardhat.config.js node
or
npx hardhat --config ./hardhat.config.js node --hostname 0.0.0.0


# 3. Terminal 2 - Compile & deploy contracts, then start backend
npx hardhat --config ./hardhat.config.js compile
npx hardhat --config ./hardhat.config.js run scripts/deploy.js --network localhost
node server.js

# 4. Terminal 3 - Start frontend
cd public && python3 -m http.server 8000 --bind 0.0.0.0

# 5. Open browser: http://localhost:8000
```

---

## Overview

The supplied code includes:

- **Solidity contract**: `MemorixGame.sol`
- **Hardhat scripts**: deployment and interaction
- **Express backend**: verifies telemetry and records rounds
- **Frontend web UI**: connects to MetaMask, plays rounds, and submits telemetry

---

## Quick Facts & Tested Versions

| Component | Version | Notes |
|------------|----------|-------|
| **Node.js** | 18.x (tested with 18.20.0) | Recommended |
| **npm** | 9.x | Bundled with Node 18 |
| **nvm** | v0.39+ | Optional but recommended |
| **Hardhat** | 2.22.1 | Local devDependency |
| **ethers (JS)** | 5.7.2 | Compatible with Hardhat 2.22.1 |
| **@nomiclabs/hardhat-ethers** | ^2.2.3 | Plugin for ethers support |
| **Solidity** | ^0.8.20 | Contracts compile with 0.8.20 |
| **Express** | 4.21.2 | Backend |
| **OS** | Linux / Debian-based | Commands below assume Debian shell |

---

## Project Layout

```

memorix-game/
‚îú‚îÄ contracts/
‚îÇ  ‚îî‚îÄ MemorixGame.sol
‚îú‚îÄ scripts/
‚îÇ  ‚îú‚îÄ deploy.js
‚îÇ  ‚îî‚îÄ interact.js
‚îú‚îÄ public/
‚îÇ  ‚îî‚îÄ index.html
‚îú‚îÄ artifacts/          # (generated by Hardhat)
‚îú‚îÄ node_modules/
‚îú‚îÄ server.js
‚îú‚îÄ game-config.json
‚îú‚îÄ hardhat.config.js
‚îú‚îÄ package.json
‚îî‚îÄ deployment-info.json # (created by deploy script)

````

---

## Setup Instructions

### 1. Initialize Project

```bash
npm init -y
````

### 2. Install Dependencies

```bash
npm install
```

This will install all required dependencies including:
- hardhat@2.22.1
- @nomiclabs/hardhat-ethers@2.2.3
- ethers@5.7.2
- express, cors, dotenv, and other backend dependencies

### 3. Note on Hardhat Commands

‚ö†Ô∏è **Important**: If this project is inside another Hardhat project, you must specify the local config:

```bash
npx hardhat --config ./hardhat.config.js <command>
```

This tells Hardhat to use the local `hardhat.config.js` instead of searching parent directories.

---

## Hardhat Configuration

Create or edit your `hardhat.config.js`:

```js
require("@nomiclabs/hardhat-ethers");

module.exports = {
  solidity: {
    version: "0.8.24",
    settings: {
      optimizer: {
        enabled: true,
        runs: 200,
      },
      viaIR: true,
    },
  },
  networks: {
    localhost: {
      url: "http://127.0.0.1:8545",
      chainId: 31337,
    },
  },
};
```

---

## Environment Setup

### 1. Install & Configure NVM

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
source ~/.zshrc
```

### 2. Install Node 18 and Set Default

```bash
nvm install 18
nvm use 18
nvm alias default 18
node -v
```

---

## Running the Project

Open **three terminals**:

### Terminal 1 ‚Äî Run Local Hardhat Node

```bash
npx hardhat --config ./hardhat.config.js node
```

### Terminal 2 ‚Äî Compile, Deploy, and Run Backend

```bash
# Compile contracts
npx hardhat --config ./hardhat.config.js compile

# Deploy contracts to local network
npx hardhat --config ./hardhat.config.js run scripts/deploy.js --network localhost

# Optional: Test interaction with contracts
npx hardhat --config ./hardhat.config.js run scripts/interact.js --network localhost

# Start the backend server
node server.js
```

### Terminal 3 ‚Äî Run Frontend

```bash
cd public
python3 -m http.server 8000
```

Access the frontend at:
**[http://localhost:8000](http://localhost:8000)**

---

## Common Troubleshooting

| Issue                                 | Possible Fix                                                           |
| ------------------------------------- | ---------------------------------------------------------------------- |
| `WARNING: Node.js 18.x not supported` + `Error HHE4: Config file not found` | You're in the wrong directory! Run commands from `MEMORIX--Web3-Memory-Challenge/` directory, not the parent directory |
| `Error HH23: existing Hardhat project` | Use `npx hardhat --config ./hardhat.config.js <command>` to specify local config |
| `EADDRINUSE: port 8545 in use` | Another Hardhat node is running on 8545. Either stop it or use a different port |
| `hardhat: command not found`          | Run `npm install` to install all dependencies |
| `@nomiclabs/hardhat-ethers not found` | Run `npm install` - dependencies are in package.json |
| `toReversed is not a function`        | Wrong Hardhat version. This project uses Hardhat 2.22.1 (Node 18.x). Parent project uses newer Hardhat (Node 22.x) |
| MetaMask not connecting               | Make sure MetaMask is connected to **localhost:8545 (chainId 31337)**  |
| Compilation error                     | Check Solidity version compatibility (`^0.8.20` recommended)           |

---

## Summary

You now have:

* Local **Ethereum network** running via Hardhat
* Deployed **MemorixGame** smart contract
* Running **Express backend**
* Functional **frontend UI** connected to MetaMask
